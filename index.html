<!DOCTYPE html>
<html>

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- Favicons -->
        <link href="./images/min.png" rel="icon">

        <!-- Immediate hash scroll handler - MUST BE FIRST -->
        <script>
            // Prevent default browser hash scroll
            if (window.location.hash) {
                console.log('[EARLY] Hash detected:', window.location.hash);
                
                if ('scrollRestoration' in history) {
                    history.scrollRestoration = 'manual';
                }
                
                // Store hash and remove it temporarily
                var targetHash = window.location.hash;
                history.replaceState(null, null, ' ');
                
                // Restore hash and scroll after page loads
                window.addEventListener('load', function() {
                    console.log('[LOAD EVENT] Restoring hash and starting scroll check');
                    history.replaceState(null, null, targetHash);
                    
                    // Wait for sections to load
                    var checkElement = function(attempts) {
                        attempts = attempts || 0;
                        var target = document.querySelector(targetHash);
                        
                        console.log('[SCROLL CHECK] Attempt', attempts, 'for', targetHash, '- Found:', !!target);
                        
                        if (target) {
                            console.log('[SCROLL] Target found! Scrolling to', targetHash);
                            var isMobile = window.innerWidth <= 768;
                            var offset = isMobile ? 20 : 80;
                            var rect = target.getBoundingClientRect();
                            var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                            var targetPosition = rect.top + scrollTop - offset;
                            
                            console.log('[SCROLL] Position:', targetPosition, 'Offset:', offset);
                            
                            window.scrollTo({
                                top: targetPosition,
                                behavior: 'smooth'
                            });
                        } else if (attempts < 30) {
                            setTimeout(function() { checkElement(attempts + 1); }, 200);
                        } else {
                            console.error('[SCROLL] Failed to find target after 30 attempts:', targetHash);
                        }
                    };
                    
                    setTimeout(function() { checkElement(0); }, 300);
                });
            }
        </script>

        <script defer src="js/theme.js"></script>
        <link rel="stylesheet" type="text/css" href="css/pjstyle.css" />
        <link rel="stylesheet" type="text/css" href="css/footer.css" />
        <link rel="stylesheet" type="text/css" href="css/skills.css" />
        <link rel="stylesheet" type="text/css" href="css/underlined.css" />
        <link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
        <script
            src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://code.highcharts.com/highcharts-more.js"></script>
        <link
            href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap"
            rel="stylesheet" />
        <title>Biplaba Samantray</title>
        <script src="js/navbar.js"></script>
    </head>

    <body>
        <!-- Scroll Progress Bar -->
        <div class="scroll-progress-bar"></div>

        <header class="header">
            <canvas id="particles-canvas"></canvas>
            <div class="biplaba-intro-heading">
                <p class="gratitude">HI, I'AM</p>
                <div class="logo-flip-container" id="logoFlipCard">
                    <div class="logo-flip-inner">
                        <!-- Front Side - Profile Image -->
                        <div class="logo-flip-front">
                            <img class="bips_logo" src="images/profile.png"
                                alt="bips" />
                        </div>
                        <!-- Back Side - Cartoon Avatar -->
                        <div class="logo-flip-back">
                            <img class="bips_logo" src="images/avatar.png"
                                alt="avatar" />
                        </div>
                    </div>
                </div>
                <p class="biplaba-name">Biplaba</p>
                <!-- <p class="bips-intro">Hello</p> -->
            </div>
            <div>
                <h2 class="my-desc">
                    Software Engineer
                </h2>
            </div>

            <!-- <iframe
                src="https://open.spotify.com/embed/track/0pqnGHJpmpxLKifKRmU6WP"
                width="300" height="80" frameborder="0" allowtransparency="true"
                allow="encrypted-media"></iframe> -->

            <a href="./resume.html"><span class="underline-opening">üßë‚Äçüíª
                    Resume</span></a> &nbsp; &nbsp; &nbsp;
            <a href="https://www.linkedin.com/in/bips96/"><span
                    class="underline-opening">üñã
                    LinkedIn</span></a> &nbsp; &nbsp; &nbsp;
            <a href="./timeline/index.html"><span class="underline-opening">üíº
                    Work Experience</span></a>
            <div class="output" id="output">
                <h2 class="cursor"></h2>
                <p class="second-cursor"></p>
            </div>
        </header>

        <main style="background: #ffffff">
            <div id="about"></div>
            <div id="projects"></div>
            <div id="skills"></div>

            <script src="load-sections.js"></script>

            <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
            <script>
                var $root = $("html, body");
                
                // Function to get appropriate offset based on screen size
                function getScrollOffset() {
                    return window.innerWidth <= 768 ? 20 : 80;
                }
                
                // Function to scroll to a target
                function scrollToTarget(href) {
                    var target = $(href);
                    
                    if (target.length) {
                        var offset = getScrollOffset();
                        var scrollPos = target.offset().top - offset;
                        
                        $root.stop().animate({
                            scrollTop: scrollPos
                        }, 500);
                        return true;
                    }
                    return false;
                }
                
                // Handle anchor clicks (for on-page navigation)
                $(document).on('click', 'a[href^="#"]', function(e) {
                    var href = $.attr(this, 'href');
                    if (href && href !== '#') {
                        e.preventDefault();
                        scrollToTarget(href);
                        return false;
                    }
                });
            </script>
            <script src="js/particles.js"></script>
            <script src="js/main.js"></script>
            <script src="js/profile-flip.js"></script>
        </main>

        <!-- Site footer -->
        <footer class="footer">
            <div class="contact-section" id="contact">
                <div class="inner-contact-section">
                    <div class="contact-heading">
                        <h3>Find me</h3>
                    </div>
                    <div class="contact-description">
                        <p>
                            Let's connect! I'm available across multiple
                            platforms and always open to new
                            opportunities.<br />
                        </p>
                    </div>
                </div>
            </div>
            <div class="social">
                <div>
                    <a href="https://github.com/bips1996"
                        target="_blank">
                        <i class="fa fa-github git"
                            aria-hidden="true"></i>
                    </a>
                </div>
                <div>
                    <a
                        href="https://www.linkedin.com/in/bips96/"
                        target="_blank">
                        <i class="fa fa-linkedin in"
                            aria-hidden="true"></i>
                    </a>
                </div>
                <div>
                    <a
                        href="https://www.facebook.com/biplab.sam"
                        target="_blank">
                        <i class="fa fa-facebook-official fb"
                            aria-hidden="true"></i>
                    </a>
                </div>
                <div>
                    <a
                        href="https://api.whatsapp.com/send?phone=+918637212213"
                        target="_blank">
                        <i class="fa fa-whatsapp whatsapp"
                            aria-hidden="true"></i>
                    </a>
                </div>
                <div>
                    <a
                        href="https://www.instagram.com/i_am__biplab/"
                        target="_blank">
                        <i class="fa fa-instagram insta"
                            aria-hidden="true"></i>
                    </a>
                </div>
                <div>
                    <a href="mailto:samantaraybiplaba@gmail.com"
                        target="_blank">
                        <i class="fa fa-google-plus mail"
                            aria-hidden="true"></i>
                    </a>
                </div>
            </div>
        </footer>

        <!-- Back to Top Button -->
        <button id="back-to-top" class="back-to-top" aria-label="Back to top">
            <i class="fa fa-arrow-up"></i>
        </button>
    </body>

</html>